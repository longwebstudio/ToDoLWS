import{A as mt,B as w,e as F,w as R,C as H,D as q,E,P as vt,r as ke,G as je,H as G,I as N,J as Ee,K as Ze,L as et,M as yt,z as tt,N as At,O as Ie,Q as st,R as qe,S as nt,U as it,g as se,V as bt,W as xt,X as at,Y as He,f as ae,n as $,d as te,F as Ae,Z as me,$ as ge,a0 as Ve,t as be,a1 as Se,a2 as Ct,a3 as Et,a4 as It,h as xe,a5 as de,a6 as St,a7 as Bt,a8 as Mt,a9 as Ft,aa as Lt,ab as _t,ac as Dt,ad as kt,ae as $t,af as We,ag as Tt,ah as wt,ai as Rt,aj as Pt,ak as Ot}from"./NH3mTPrO.js";import{i as Kt,_ as Nt,a as zt,b as jt,c as qt,d as Ht,e as Vt}from"./Cpc6iR-p.js";import{u as Wt}from"./qr2BOaZU.js";import"./BrnDOxf6.js";const Ut=mt({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(s){const e=s,t=Kt({id:""});return(n,a)=>(F(),w(E(vt),q(e,{id:E(t).id}),{default:R(()=>[H(n.$slots,"default")]),_:3},16,["id"]))}});function Y(s){return Array.isArray?Array.isArray(s):ut(s)==="[object Array]"}function Gt(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function Yt(s){return s==null?"":Gt(s)}function V(s){return typeof s=="string"}function rt(s){return typeof s=="number"}function Qt(s){return s===!0||s===!1||Jt(s)&&ut(s)=="[object Boolean]"}function lt(s){return typeof s=="object"}function Jt(s){return lt(s)&&s!==null}function K(s){return s!=null}function Ce(s){return!s.trim().length}function ut(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const Xt="Incorrect 'index' type",Zt=s=>`Invalid value for key ${s}`,es=s=>`Pattern length exceeds max of ${s}.`,ts=s=>`Missing ${s} property in key`,ss=s=>`Property 'weight' in key '${s}' must be a positive integer`,Ue=Object.prototype.hasOwnProperty;class ns{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let a=ct(n);this._keys.push(a),this._keyMap[a.id]=a,t+=a.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function ct(s){let e=null,t=null,n=null,a=1,i=null;if(V(s)||Y(s))n=s,e=Ge(s),t=Be(s);else{if(!Ue.call(s,"name"))throw new Error(ts("name"));const r=s.name;if(n=r,Ue.call(s,"weight")&&(a=s.weight,a<=0))throw new Error(ss(r));e=Ge(r),t=Be(r),i=s.getFn}return{path:e,id:t,weight:a,src:n,getFn:i}}function Ge(s){return Y(s)?s:s.split(".")}function Be(s){return Y(s)?s.join("."):s}function is(s,e){let t=[],n=!1;const a=(i,r,u)=>{if(K(i))if(!r[u])t.push(i);else{let c=r[u];const o=i[c];if(!K(o))return;if(u===r.length-1&&(V(o)||rt(o)||Qt(o)))t.push(Yt(o));else if(Y(o)){n=!0;for(let l=0,f=o.length;l<f;l+=1)a(o[l],r,u+1)}else r.length&&a(o,r,u+1)}};return a(s,V(e)?e.split("."):e,0),n?t:t[0]}const as={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},rs={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},ls={location:0,threshold:.6,distance:100},us={useExtendedSearch:!1,getFn:is,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var m={...rs,...as,...ls,...us};const cs=/[^ ]+/g;function os(s=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(a){const i=a.match(cs).length;if(t.has(i))return t.get(i);const r=1/Math.pow(i,.5*s),u=parseFloat(Math.round(r*n)/n);return t.set(i,u),u},clear(){t.clear()}}}class $e{constructor({getFn:e=m.getFn,fieldNormWeight:t=m.fieldNormWeight}={}){this.norm=os(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,V(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();V(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!K(e)||Ce(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((a,i)=>{let r=a.getFn?a.getFn(e):this.getFn(e,a.path);if(K(r)){if(Y(r)){let u=[];const c=[{nestedArrIndex:-1,value:r}];for(;c.length;){const{nestedArrIndex:o,value:l}=c.pop();if(K(l))if(V(l)&&!Ce(l)){let f={v:l,i:o,n:this.norm.get(l)};u.push(f)}else Y(l)&&l.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}n.$[i]=u}else if(V(r)&&!Ce(r)){let u={v:r,n:this.norm.get(r)};n.$[i]=u}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function ot(s,e,{getFn:t=m.getFn,fieldNormWeight:n=m.fieldNormWeight}={}){const a=new $e({getFn:t,fieldNormWeight:n});return a.setKeys(s.map(ct)),a.setSources(e),a.create(),a}function hs(s,{getFn:e=m.getFn,fieldNormWeight:t=m.fieldNormWeight}={}){const{keys:n,records:a}=s,i=new $e({getFn:e,fieldNormWeight:t});return i.setKeys(n),i.setIndexRecords(a),i}function pe(s,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:a=m.distance,ignoreLocation:i=m.ignoreLocation}={}){const r=e/s.length;if(i)return r;const u=Math.abs(n-t);return a?r+u/a:u?1:r}function ds(s=[],e=m.minMatchCharLength){let t=[],n=-1,a=-1,i=0;for(let r=s.length;i<r;i+=1){let u=s[i];u&&n===-1?n=i:!u&&n!==-1&&(a=i-1,a-n+1>=e&&t.push([n,a]),n=-1)}return s[i-1]&&i-n>=e&&t.push([n,i-1]),t}const re=32;function fs(s,e,t,{location:n=m.location,distance:a=m.distance,threshold:i=m.threshold,findAllMatches:r=m.findAllMatches,minMatchCharLength:u=m.minMatchCharLength,includeMatches:c=m.includeMatches,ignoreLocation:o=m.ignoreLocation}={}){if(e.length>re)throw new Error(es(re));const l=e.length,f=s.length,h=Math.max(0,Math.min(n,f));let p=i,y=h;const M=u>1||c,D=M?Array(f):[];let L;for(;(L=s.indexOf(e,y))>-1;){let x=pe(e,{currentLocation:L,expectedLocation:h,distance:a,ignoreLocation:o});if(p=Math.min(x,p),y=L+l,M){let g=0;for(;g<l;)D[L+g]=1,g+=1}}y=-1;let k=[],P=1,A=l+f;const I=1<<l-1;for(let x=0;x<l;x+=1){let g=0,b=A;for(;g<b;)pe(e,{errors:x,currentLocation:h+b,expectedLocation:h,distance:a,ignoreLocation:o})<=p?g=b:A=b,b=Math.floor((A-g)/2+g);A=b;let B=Math.max(1,h-b+1),T=r?f:Math.min(h+b,f)+l,_=Array(T+2);_[T+1]=(1<<x)-1;for(let v=T;v>=B;v-=1){let C=v-1,O=t[s.charAt(C)];if(M&&(D[C]=+!!O),_[v]=(_[v+1]<<1|1)&O,x&&(_[v]|=(k[v+1]|k[v])<<1|1|k[v+1]),_[v]&I&&(P=pe(e,{errors:x,currentLocation:C,expectedLocation:h,distance:a,ignoreLocation:o}),P<=p)){if(p=P,y=C,y<=h)break;B=Math.max(1,2*h-y)}}if(pe(e,{errors:x+1,currentLocation:h,expectedLocation:h,distance:a,ignoreLocation:o})>p)break;k=_}const S={isMatch:y>=0,score:Math.max(.001,P)};if(M){const x=ds(D,u);x.length?c&&(S.indices=x):S.isMatch=!1}return S}function gs(s){let e={};for(let t=0,n=s.length;t<n;t+=1){const a=s.charAt(t);e[a]=(e[a]||0)|1<<n-t-1}return e}const ve=String.prototype.normalize?s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):s=>s;class ht{constructor(e,{location:t=m.location,threshold:n=m.threshold,distance:a=m.distance,includeMatches:i=m.includeMatches,findAllMatches:r=m.findAllMatches,minMatchCharLength:u=m.minMatchCharLength,isCaseSensitive:c=m.isCaseSensitive,ignoreDiacritics:o=m.ignoreDiacritics,ignoreLocation:l=m.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:a,includeMatches:i,findAllMatches:r,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:o,ignoreLocation:l},e=c?e:e.toLowerCase(),e=o?ve(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const f=(p,y)=>{this.chunks.push({pattern:p,alphabet:gs(p),startIndex:y})},h=this.pattern.length;if(h>re){let p=0;const y=h%re,M=h-y;for(;p<M;)f(this.pattern.substr(p,re),p),p+=re;if(y){const D=h-re;f(this.pattern.substr(D),D)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a}=this.options;if(e=t?e:e.toLowerCase(),e=n?ve(e):e,this.pattern===e){let M={isMatch:!0,score:0};return a&&(M.indices=[[0,e.length-1]]),M}const{location:i,distance:r,threshold:u,findAllMatches:c,minMatchCharLength:o,ignoreLocation:l}=this.options;let f=[],h=0,p=!1;this.chunks.forEach(({pattern:M,alphabet:D,startIndex:L})=>{const{isMatch:k,score:P,indices:A}=fs(e,M,D,{location:i+L,distance:r,threshold:u,findAllMatches:c,minMatchCharLength:o,includeMatches:a,ignoreLocation:l});k&&(p=!0),h+=P,k&&A&&(f=[...f,...A])});let y={isMatch:p,score:p?h/this.chunks.length:1};return p&&a&&(y.indices=f),y}}class ne{constructor(e){this.pattern=e}static isMultiMatch(e){return Ye(e,this.multiRegex)}static isSingleMatch(e){return Ye(e,this.singleRegex)}search(){}}function Ye(s,e){const t=s.match(e);return t?t[1]:null}class ps extends ne{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class ms extends ne{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class vs extends ne{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class ys extends ne{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class As extends ne{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class bs extends ne{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class dt extends ne{constructor(e,{location:t=m.location,threshold:n=m.threshold,distance:a=m.distance,includeMatches:i=m.includeMatches,findAllMatches:r=m.findAllMatches,minMatchCharLength:u=m.minMatchCharLength,isCaseSensitive:c=m.isCaseSensitive,ignoreDiacritics:o=m.ignoreDiacritics,ignoreLocation:l=m.ignoreLocation}={}){super(e),this._bitapSearch=new ht(e,{location:t,threshold:n,distance:a,includeMatches:i,findAllMatches:r,minMatchCharLength:u,isCaseSensitive:c,ignoreDiacritics:o,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class ft extends ne{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const a=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+i,a.push([n,t-1]);const r=!!a.length;return{isMatch:r,score:r?0:1,indices:a}}}const Me=[ps,ft,vs,ys,bs,As,ms,dt],Qe=Me.length,xs=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Cs="|";function Es(s,e={}){return s.split(Cs).map(t=>{let n=t.trim().split(xs).filter(i=>i&&!!i.trim()),a=[];for(let i=0,r=n.length;i<r;i+=1){const u=n[i];let c=!1,o=-1;for(;!c&&++o<Qe;){const l=Me[o];let f=l.isMultiMatch(u);f&&(a.push(new l(f,e)),c=!0)}if(!c)for(o=-1;++o<Qe;){const l=Me[o];let f=l.isSingleMatch(u);if(f){a.push(new l(f,e));break}}}return a})}const Is=new Set([dt.type,ft.type]);class Ss{constructor(e,{isCaseSensitive:t=m.isCaseSensitive,ignoreDiacritics:n=m.ignoreDiacritics,includeMatches:a=m.includeMatches,minMatchCharLength:i=m.minMatchCharLength,ignoreLocation:r=m.ignoreLocation,findAllMatches:u=m.findAllMatches,location:c=m.location,threshold:o=m.threshold,distance:l=m.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:n,includeMatches:a,minMatchCharLength:i,findAllMatches:u,ignoreLocation:r,location:c,threshold:o,distance:l},e=t?e:e.toLowerCase(),e=n?ve(e):e,this.pattern=e,this.query=Es(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:a,ignoreDiacritics:i}=this.options;e=a?e:e.toLowerCase(),e=i?ve(e):e;let r=0,u=[],c=0;for(let o=0,l=t.length;o<l;o+=1){const f=t[o];u.length=0,r=0;for(let h=0,p=f.length;h<p;h+=1){const y=f[h],{isMatch:M,indices:D,score:L}=y.search(e);if(M){if(r+=1,c+=L,n){const k=y.constructor.type;Is.has(k)?u=[...u,...D]:u.push(D)}}else{c=0,r=0,u.length=0;break}}if(r){let h={isMatch:!0,score:c/r};return n&&(h.indices=u),h}}return{isMatch:!1,score:1}}}const Fe=[];function Bs(...s){Fe.push(...s)}function Le(s,e){for(let t=0,n=Fe.length;t<n;t+=1){let a=Fe[t];if(a.condition(s,e))return new a(s,e)}return new ht(s,e)}const ye={AND:"$and",OR:"$or"},_e={PATH:"$path",PATTERN:"$val"},De=s=>!!(s[ye.AND]||s[ye.OR]),Ms=s=>!!s[_e.PATH],Fs=s=>!Y(s)&&lt(s)&&!De(s),Je=s=>({[ye.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function gt(s,e,{auto:t=!0}={}){const n=a=>{let i=Object.keys(a);const r=Ms(a);if(!r&&i.length>1&&!De(a))return n(Je(a));if(Fs(a)){const c=r?a[_e.PATH]:i[0],o=r?a[_e.PATTERN]:a[c];if(!V(o))throw new Error(Zt(c));const l={keyId:Be(c),pattern:o};return t&&(l.searcher=Le(o,e)),l}let u={children:[],operator:i[0]};return i.forEach(c=>{const o=a[c];Y(o)&&o.forEach(l=>{u.children.push(n(l))})}),u};return De(s)||(s=Je(s)),n(s)}function Ls(s,{ignoreFieldNorm:e=m.ignoreFieldNorm}){s.forEach(t=>{let n=1;t.matches.forEach(({key:a,norm:i,score:r})=>{const u=a?a.weight:null;n*=Math.pow(r===0&&u?Number.EPSILON:r,(u||1)*(e?1:i))}),t.score=n})}function _s(s,e){const t=s.matches;e.matches=[],K(t)&&t.forEach(n=>{if(!K(n.indices)||!n.indices.length)return;const{indices:a,value:i}=n;let r={indices:a,value:i};n.key&&(r.key=n.key.src),n.idx>-1&&(r.refIndex=n.idx),e.matches.push(r)})}function Ds(s,e){e.score=s.score}function ks(s,e,{includeMatches:t=m.includeMatches,includeScore:n=m.includeScore}={}){const a=[];return t&&a.push(_s),n&&a.push(Ds),s.map(i=>{const{idx:r}=i,u={item:e[r],refIndex:r};return a.length&&a.forEach(c=>{c(i,u)}),u})}class ue{constructor(e,t={},n){this.options={...m,...t},this.options.useExtendedSearch,this._keyStore=new ns(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof $e))throw new Error(Xt);this._myIndex=t||ot(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){K(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,a=this._docs.length;n<a;n+=1){const i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,a-=1,t.push(i))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:a,shouldSort:i,sortFn:r,ignoreFieldNorm:u}=this.options;let c=V(e)?V(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Ls(c,{ignoreFieldNorm:u}),i&&c.sort(r),rt(t)&&t>-1&&(c=c.slice(0,t)),ks(c,this._docs,{includeMatches:n,includeScore:a})}_searchStringList(e){const t=Le(e,this.options),{records:n}=this._myIndex,a=[];return n.forEach(({v:i,i:r,n:u})=>{if(!K(i))return;const{isMatch:c,score:o,indices:l}=t.searchIn(i);c&&a.push({item:i,idx:r,matches:[{score:o,value:i,norm:u,indices:l}]})}),a}_searchLogical(e){const t=gt(e,this.options),n=(u,c,o)=>{if(!u.children){const{keyId:f,searcher:h}=u,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return p&&p.length?[{idx:o,item:c,matches:p}]:[]}const l=[];for(let f=0,h=u.children.length;f<h;f+=1){const p=u.children[f],y=n(p,c,o);if(y.length)l.push(...y);else if(u.operator===ye.AND)return[]}return l},a=this._myIndex.records,i={},r=[];return a.forEach(({$:u,i:c})=>{if(K(u)){let o=n(t,u,c);o.length&&(i[c]||(i[c]={idx:c,item:u,matches:[]},r.push(i[c])),o.forEach(({matches:l})=>{i[c].matches.push(...l)}))}}),r}_searchObjectList(e){const t=Le(e,this.options),{keys:n,records:a}=this._myIndex,i=[];return a.forEach(({$:r,i:u})=>{if(!K(r))return;let c=[];n.forEach((o,l)=>{c.push(...this._findMatches({key:o,value:r[l],searcher:t}))}),c.length&&i.push({idx:u,item:r,matches:c})}),i}_findMatches({key:e,value:t,searcher:n}){if(!K(t))return[];let a=[];if(Y(t))t.forEach(({v:i,i:r,n:u})=>{if(!K(i))return;const{isMatch:c,score:o,indices:l}=n.searchIn(i);c&&a.push({score:o,key:e,value:i,idx:r,norm:u,indices:l})});else{const{v:i,n:r}=t,{isMatch:u,score:c,indices:o}=n.searchIn(i);u&&a.push({score:c,key:e,value:i,norm:r,indices:o})}return a}}ue.version="7.1.0";ue.createIndex=ot;ue.parseIndex=hs;ue.config=m;ue.parseQuery=gt;Bs(Ss);function $s(s,e,t){const n=()=>{var r,u;return new ue((r=G(e))!=null?r:[],(u=G(t))==null?void 0:u.fuseOptions)},a=ke(n());je(()=>{var r;return(r=G(t))==null?void 0:r.fuseOptions},()=>{a.value=n()},{deep:!0}),je(()=>G(e),r=>{a.value.setCollection(r)},{deep:!0});const i=N(()=>{const r=G(t);if(r!=null&&r.matchAllWhenSearchEmpty&&!G(s))return G(e).map((c,o)=>({item:c,refIndex:o}));const u=r==null?void 0:r.resultLimit;return a.value.search(G(s),u?{limit:u}:void 0)});return{fuse:a,results:i}}function Ts(s,e){let t="",n=0,a=!1;for(let i=s.length-1;i>=0;i--){if(s[i]===">")a=!0;else if(s[i]==="<"){a=!1,t=s[i]+t;continue}if(a||n++,n<=e)t=s[i]+t;else{t="..."+t;break}}return t}function Xe(s,e,t,n){var i;function a(r,u=[]){r=r||"";let c="",o=0;u.forEach(f=>{if(f.length===2&&f[0]===f[1])return;const h=f[1]+1,p=h-f[0]>=e.length;c+=[r.substring(o,f[0]),p&&"<mark>",r.substring(f[0],h),p&&"</mark>"].filter(Boolean).join(""),o=h}),c+=r.substring(o);const l=c.indexOf("<mark>");return l!==-1&&(c=Ts(c,c.length-l)),c}if((i=s.matches)!=null&&i.length){for(const r of s.matches)if(!(t&&r.key!==t)&&!(n!=null&&n.includes(r.key)))return a(r.value,r.indices)}}const ws={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",back:"p-0",content:"relative overflow-hidden flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 rtl:space-x-reverse text-dimmed",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},Rs=["innerHTML"],Ps=["innerHTML"],Os={__name:"UCommandPalette",props:Ee({as:{type:null,required:!1},icon:{type:String,required:!1},selectedIcon:{type:String,required:!1},trailingIcon:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:String,required:!1},back:{type:[Boolean,Object],required:!1,default:!0},backIcon:{type:String,required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:Ee(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(s,{emit:e}){const t=s,n=e,a=Ze(),i=et(s,"searchTerm",{type:String,default:""}),{t:r}=yt(),u=tt(),c=At(Ie(t,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover","selectionBehavior"),n),o=st(Ie(t,"loading","loadingIcon")),l=N(()=>{var g;return qe({extend:qe(ws),...((g=u.ui)==null?void 0:g.commandPalette)||{}})()}),f=N(()=>nt({},t.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[t.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),h=ke([]),p=N(()=>{var g;return((g=h.value[h.value.length-1])==null?void 0:g.placeholder)||t.placeholder||r("commandPalette.placeholder")}),y=N(()=>{var g;return(g=h.value)!=null&&g.length?[h.value[h.value.length-1]]:t.groups}),M=N(()=>{var g,b;return((b=(g=y.value)==null?void 0:g.filter(B=>B.id?!B.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1)))==null?void 0:b.flatMap(B=>{var T;return((T=B.items)==null?void 0:T.map(_=>({..._,group:B.id})))||[]}))||[]}),{results:D}=$s(i,M,f);function L(g,b){return g!=null&&g.postFilter&&typeof g.postFilter=="function"&&(b=g.postFilter(i.value,b)),{...g,items:b.slice(0,f.value.resultLimit).map(B=>({...B,labelHtml:Xe(B,i.value,t.labelKey),suffixHtml:Xe(B,i.value,void 0,[t.labelKey])}))}}const k=N(()=>{var T,_,W;const g=D.value.reduce((v,C)=>{var d,Q;const{item:O,matches:ie}=C;return O.group&&(v[d=O.group]||(v[d]=[]),(Q=v[O.group])==null||Q.push({...O,matches:ie})),v},{}),b=Object.entries(g).map(([v,C])=>{var ie;const O=(ie=y.value)==null?void 0:ie.find(d=>d.id===v);if(O)return L(O,C)}).filter(v=>!!v);return(((W=(_=(T=y.value)==null?void 0:T.map((v,C)=>({...v,index:C})))==null?void 0:_.filter(v=>{var C;return v.ignoreFilter&&((C=v.items)==null?void 0:C.length)}))==null?void 0:W.map(v=>({...L(v,v.items||[]),index:v.index})))||[]).reduce((v,C)=>(v.splice(C.index,0,C),v),[...b])}),P=it("listboxRootRef");function A(g){var b,B;(b=g.children)!=null&&b.length&&(h.value.push({id:`history-${h.value.length}`,label:g.label,slot:g.slot,placeholder:g.placeholder,items:g.children}),i.value="",(B=P.value)==null||B.highlightFirstItem())}function I(){var g;h.value.length&&(h.value.pop(),i.value="",(g=P.value)==null||g.highlightFirstItem())}function S(){i.value||I()}function x(g,b){var B,T;(B=b.children)!=null&&B.length?(g.preventDefault(),A(b)):(T=b.onSelect)==null||T.call(b,g)}return(g,b)=>{var B;return F(),w(E(Vt),q(E(c),{ref_key:"listboxRootRef",ref:P,class:l.value.root({class:[(B=t.ui)==null?void 0:B.root,t.class]})}),{default:R(()=>{var T;return[se(E(Nt),{modelValue:i.value,"onUpdate:modelValue":b[1]||(b[1]=_=>i.value=_),"as-child":""},{default:R(()=>{var _,W;return[se(bt,q({placeholder:p.value,variant:"none",autofocus:s.autofocus},E(o),{icon:s.icon||E(u).ui.icons.search,class:l.value.input({class:(_=t.ui)==null?void 0:_.input}),onKeydown:xt(S,["backspace"])}),at({_:2},[(W=h.value)!=null&&W.length&&(s.back||a.back)?{name:"leading",fn:R(()=>[H(g.$slots,"back",{ui:l.value},()=>{var v;return[se(He,q({icon:s.backIcon||E(u).ui.icons.arrowLeft,color:"neutral",variant:"link","aria-label":E(r)("commandPalette.back")},typeof s.back=="object"?s.back:{},{class:l.value.back({class:(v=t.ui)==null?void 0:v.back}),onClick:I}),null,16,["icon","aria-label","class"])]})]),key:"0"}:void 0,s.close||a.close?{name:"trailing",fn:R(()=>[H(g.$slots,"close",{ui:l.value},()=>{var v;return[s.close?(F(),w(He,q({key:0,icon:s.closeIcon||E(u).ui.icons.close,color:"neutral",variant:"ghost","aria-label":E(r)("commandPalette.close")},typeof s.close=="object"?s.close:{},{class:l.value.close({class:(v=t.ui)==null?void 0:v.close}),onClick:b[0]||(b[0]=C=>n("update:open",!1))}),null,16,["icon","aria-label","class"])):ae("",!0)]})]),key:"1"}:void 0]),1040,["placeholder","autofocus","icon","class"])]}),_:3},8,["modelValue"]),se(E(zt),{class:$(l.value.content({class:(T=t.ui)==null?void 0:T.content}))},{default:R(()=>{var _,W,v;return[(_=k.value)!=null&&_.length?(F(),te("div",{key:0,role:"presentation",class:$(l.value.viewport({class:(W=t.ui)==null?void 0:W.viewport}))},[(F(!0),te(Ae,null,me(k.value,C=>{var O;return F(),w(E(jt),{key:`group-${C.id}`,class:$(l.value.group({class:(O=t.ui)==null?void 0:O.group}))},{default:R(()=>{var ie;return[E(ge)(C,t.labelKey)?(F(),w(E(Ut),{key:0,class:$(l.value.label({class:(ie=t.ui)==null?void 0:ie.label}))},{default:R(()=>[Ve(be(E(ge)(C,t.labelKey)),1)]),_:2},1032,["class"])):ae("",!0),(F(!0),te(Ae,null,me(C.items,(d,Q)=>(F(),w(E(qt),{key:`group-${C.id}-${Q}`,value:E(Se)(d,["matches","group","onSelect","labelHtml","suffixHtml","children"]),disabled:d.disabled,"as-child":"",onSelect:U=>x(U,d)},{default:R(()=>[se(Ct,q({ref_for:!0},E(Et)(d),{custom:""}),{default:R(({active:U,...pt})=>{var Te,we;return[se(It,q({ref_for:!0},pt,{class:l.value.item({class:[(Te=t.ui)==null?void 0:Te.item,(we=d.ui)==null?void 0:we.item,d.class],active:U||d.active})}),{default:R(()=>[H(g.$slots,d.slot||C.slot||"item",{item:d,index:Q},()=>{var Re,Pe,Oe,Ke,Ne;return[H(g.$slots,d.slot?`${d.slot}-leading`:C.slot?`${C.slot}-leading`:"item-leading",{item:d,index:Q},()=>{var z,j,J,X,Z,ee,ce,le,fe,oe,he,ze;return[d.loading?(F(),w(de,{key:0,name:s.loadingIcon||E(u).ui.icons.loading,class:$(l.value.itemLeadingIcon({class:[(z=t.ui)==null?void 0:z.itemLeadingIcon,(j=d.ui)==null?void 0:j.itemLeadingIcon],loading:!0}))},null,8,["name","class"])):d.icon?(F(),w(de,{key:1,name:d.icon,class:$(l.value.itemLeadingIcon({class:[(J=t.ui)==null?void 0:J.itemLeadingIcon,(X=d.ui)==null?void 0:X.itemLeadingIcon],active:U||d.active}))},null,8,["name","class"])):d.avatar?(F(),w(St,q({key:2,size:((Z=d.ui)==null?void 0:Z.itemLeadingAvatarSize)||((ee=t.ui)==null?void 0:ee.itemLeadingAvatarSize)||l.value.itemLeadingAvatarSize()},{ref_for:!0},d.avatar,{class:l.value.itemLeadingAvatar({class:[(ce=t.ui)==null?void 0:ce.itemLeadingAvatar,(le=d.ui)==null?void 0:le.itemLeadingAvatar],active:U||d.active})}),null,16,["size","class"])):d.chip?(F(),w(Bt,q({key:3,size:((fe=d.ui)==null?void 0:fe.itemLeadingChipSize)||((oe=t.ui)==null?void 0:oe.itemLeadingChipSize)||l.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},d.chip,{class:l.value.itemLeadingChip({class:[(he=t.ui)==null?void 0:he.itemLeadingChip,(ze=d.ui)==null?void 0:ze.itemLeadingChip],active:U||d.active})}),null,16,["size","class"])):ae("",!0)]}),d.labelHtml||E(ge)(d,t.labelKey)||a[d.slot?`${d.slot}-label`:C.slot?`${C.slot}-label`:"item-label"]?(F(),te("span",{key:0,class:$(l.value.itemLabel({class:[(Re=t.ui)==null?void 0:Re.itemLabel,(Pe=d.ui)==null?void 0:Pe.itemLabel],active:U||d.active}))},[H(g.$slots,d.slot?`${d.slot}-label`:C.slot?`${C.slot}-label`:"item-label",{item:d,index:Q},()=>{var z,j,J,X,Z,ee;return[d.prefix?(F(),te("span",{key:0,class:$(l.value.itemLabelPrefix({class:[(z=t.ui)==null?void 0:z.itemLabelPrefix,(j=d.ui)==null?void 0:j.itemLabelPrefix]}))},be(d.prefix),3)):ae("",!0),xe("span",{class:$(l.value.itemLabelBase({class:[(J=t.ui)==null?void 0:J.itemLabelBase,(X=d.ui)==null?void 0:X.itemLabelBase],active:U||d.active})),innerHTML:d.labelHtml||E(ge)(d,t.labelKey)},null,10,Rs),xe("span",{class:$(l.value.itemLabelSuffix({class:[(Z=t.ui)==null?void 0:Z.itemLabelSuffix,(ee=d.ui)==null?void 0:ee.itemLabelSuffix],active:U||d.active})),innerHTML:d.suffixHtml||d.suffix},null,10,Ps)]})],2)):ae("",!0),xe("span",{class:$(l.value.itemTrailing({class:[(Oe=t.ui)==null?void 0:Oe.itemTrailing,(Ke=d.ui)==null?void 0:Ke.itemTrailing]}))},[H(g.$slots,d.slot?`${d.slot}-trailing`:C.slot?`${C.slot}-trailing`:"item-trailing",{item:d,index:Q},()=>{var z,j,J,X,Z,ee,ce;return[d.children&&d.children.length>0?(F(),w(de,{key:0,name:s.trailingIcon||E(u).ui.icons.chevronRight,class:$(l.value.itemTrailingIcon({class:[(z=t.ui)==null?void 0:z.itemTrailingIcon,(j=d.ui)==null?void 0:j.itemTrailingIcon]}))},null,8,["name","class"])):(J=d.kbds)!=null&&J.length?(F(),te("span",{key:1,class:$(l.value.itemTrailingKbds({class:[(X=t.ui)==null?void 0:X.itemTrailingKbds,(Z=d.ui)==null?void 0:Z.itemTrailingKbds]}))},[(F(!0),te(Ae,null,me(d.kbds,(le,fe)=>{var oe,he;return F(),w(Mt,q({key:fe,size:((oe=d.ui)==null?void 0:oe.itemTrailingKbdsSize)||((he=t.ui)==null?void 0:he.itemTrailingKbdsSize)||l.value.itemTrailingKbdsSize()},{ref_for:!0},typeof le=="string"?{value:le}:le),null,16,["size"])}),128))],2)):C.highlightedIcon?(F(),w(de,{key:2,name:C.highlightedIcon,class:$(l.value.itemTrailingHighlightedIcon({class:[(ee=t.ui)==null?void 0:ee.itemTrailingHighlightedIcon,(ce=d.ui)==null?void 0:ce.itemTrailingHighlightedIcon]}))},null,8,["name","class"])):ae("",!0)]}),(Ne=d.children)!=null&&Ne.length?ae("",!0):(F(),w(E(Ht),{key:0,"as-child":""},{default:R(()=>{var z,j;return[se(de,{name:s.selectedIcon||E(u).ui.icons.check,class:$(l.value.itemTrailingIcon({class:[(z=t.ui)==null?void 0:z.itemTrailingIcon,(j=d.ui)==null?void 0:j.itemTrailingIcon]}))},null,8,["name","class"])]}),_:2},1024))],2)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["value","disabled","onSelect"]))),128))]}),_:2},1032,["class"])}),128))],2)):(F(),te("div",{key:1,class:$(l.value.empty({class:(v=t.ui)==null?void 0:v.empty}))},[H(g.$slots,"empty",{searchTerm:i.value},()=>[Ve(be(i.value?E(r)("commandPalette.noMatch",{searchTerm:i.value}):E(r)("commandPalette.noData")),1)])],2))]}),_:3},8,["class"])]}),_:3},16,["class"])}}},Ks={slots:{modal:"sm:max-w-3xl sm:h-[28rem]",input:"[&>input]:text-base/5"}},Ns=/^[^-]+.*-.*[^-]+$/,zs=/^[^_]+.*_.*[^_]+$/;function js(s,e={}){const t=ke([]),n=()=>{t.value.splice(0,t.value.length)},a=Ft(n,e.chainDelay??800),{macOS:i}=Lt(),r=_t(),u=l=>{if(!l.key)return;const f=/^[a-z]{1}$/i.test(l.key);let h;if(t.value.push(l.key),t.value.length>=2){h=t.value.slice(-2).join("-");for(const p of o.value.filter(y=>y.chained))if(p.key===h){p.enabled&&(l.preventDefault(),p.handler(l)),n();return}}for(const p of o.value.filter(y=>!y.chained))if(l.key.toLowerCase()===p.key&&l.metaKey===p.metaKey&&l.ctrlKey===p.ctrlKey&&!(f&&l.shiftKey!==p.shiftKey)){p.enabled&&(l.preventDefault(),p.handler()),n();return}a()},c=N(()=>{var p,y,M;const l=(p=r.value)==null?void 0:p.tagName,f=(y=r.value)==null?void 0:y.contentEditable;return l==="INPUT"||l==="TEXTAREA"||f==="true"||f==="plaintext-only"?((M=r.value)==null?void 0:M.name)||!0:!1}),o=N(()=>Object.entries(G(s)).map(([l,f])=>{var M,D;if(!f)return null;let h;l.includes("-")&&l!=="-"&&!l.includes("_")&&!((M=l.match(Ns))!=null&&M.length)&&console.trace(`[Shortcut] Invalid key: "${l}"`),l.includes("_")&&l!=="_"&&!((D=l.match(zs))!=null&&D.length)&&console.trace(`[Shortcut] Invalid key: "${l}"`);const p=l.includes("-")&&l!=="-"&&!l.includes("_");if(p)h={key:l.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const L=l.toLowerCase().split("_").map(k=>k);h={key:L.filter(k=>!["meta","command","ctrl","shift","alt","option"].includes(k)).join("_"),metaKey:L.includes("meta")||L.includes("command"),ctrlKey:L.includes("ctrl"),shiftKey:L.includes("shift"),altKey:L.includes("alt")||L.includes("option")}}if(h.chained=p,!i.value&&h.metaKey&&!h.ctrlKey&&(h.metaKey=!1,h.ctrlKey=!0),typeof f=="function"?h.handler=f:typeof f=="object"&&(h={...h,handler:f.handler}),!h.handler)return console.trace("[Shortcut] Invalid value"),null;let y=!0;return f.usingInput?typeof f.usingInput=="string"&&(y=c.value===f.usingInput):y=!c.value,h.enabled=y,h}).filter(Boolean));return Dt("keydown",u)}const Us={__name:"UContentSearch",props:Ee({icon:{type:String,required:!1},placeholder:{type:null,required:!1},autofocus:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},shortcut:{type:String,required:!1,default:"meta_k"},links:{type:Array,required:!1},navigation:{type:Array,required:!1},groups:{type:Array,required:!1},files:{type:Array,required:!1},fuse:{type:Object,required:!1},colorMode:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:void 0,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:["update:searchTerm"],setup(s,{expose:e}){const t=s,n=Ze(),a=et(s,"searchTerm",{type:String,default:""}),{t:i}=kt(),{open:r}=Wt(),u=$t(),c=tt(),o=st(Ie(t,"icon","placeholder","autofocus","loading","loadingIcon","close","closeIcon")),l=Se(n,["content"]),f=N(()=>nt({},t.fuse,{fuseOptions:{includeMatches:!0}})),h=N(()=>{var A;return We({extend:We(Ks),...((A=c.uiPro)==null?void 0:A.contentSearch)||{}})()});function p(A){return A.flatMap(I=>{var S;return[{...I,suffix:I.description,icon:I.icon||c.ui.icons.file},...((S=I.children)==null?void 0:S.map(x=>({...x,prefix:I.label+" >",suffix:x.description,icon:x.icon||I.icon||c.ui.icons.file})))||[]]})}function y(A,I){return A.flatMap(S=>{var x,g,b;return(x=S.children)!=null&&x.length?y(S.children,S):((b=(g=t.files)==null?void 0:g.filter(B=>B.id===S.path||B.id.startsWith(`${S.path}#`)))==null?void 0:b.map(B=>M(B,S,I)))||[]})}function M(A,I,S){const x=[...new Set([S==null?void 0:S.title,...A.titles].filter(Boolean))];return{prefix:x!=null&&x.length?x.join(" > ")+" >":void 0,label:A.id===I.path?I.title:A.title,suffix:A.content.replaceAll("<","&lt;").replaceAll(">","&gt;"),to:A.id,icon:I.icon||(S==null?void 0:S.icon)||(A.level>1?c.ui.icons.hash:c.ui.icons.file),level:A.level}}const D=N(()=>{var I,S;const A=[];return(I=t.links)!=null&&I.length&&A.push({id:"links",label:i("contentSearch.links"),items:p(t.links)}),(S=t.navigation)!=null&&S.length&&(t.navigation.some(x=>{var g;return!!((g=x.children)!=null&&g.length)})?A.push(...t.navigation.map(x=>({id:x.path,label:x.title,items:y(x.children||[]),postFilter:L}))):A.push({id:"docs",items:y(t.navigation),postFilter:L})),A.push(...t.groups||[]),t.colorMode&&!(u!=null&&u.forced)&&A.push({id:"theme",label:i("contentSearch.theme"),items:[{label:i("colorMode.system"),icon:c.ui.icons.system,active:u.preference==="system",onSelect:()=>{u.preference="system"}},{label:i("colorMode.light"),icon:c.ui.icons.light,active:u.preference==="light",onSelect:()=>{u.preference="light"}},{label:i("colorMode.dark"),icon:c.ui.icons.dark,active:u.preference==="dark",onSelect:()=>{u.preference="dark"}}]}),A});function L(A,I){return A?I:I==null?void 0:I.filter(S=>S.level===1)}function k(A){A.disabled||(r.value=!1,a.value="")}js({[t.shortcut]:{usingInput:!0,handler:()=>r.value=!r.value}});const P=it("commandPaletteRef");return e({commandPaletteRef:P}),(A,I)=>{const S=Os,x=Ot;return F(),w(x,{open:E(r),"onUpdate:open":I[2]||(I[2]=g=>Pt(r)?r.value=g:null),title:E(i)("contentSearch.title"),description:E(i)("contentSearch.description"),class:$(h.value.modal({class:t.class}))},{content:R(()=>[H(A.$slots,"content",{},()=>[se(S,q({ref_key:"commandPaletteRef",ref:P,"search-term":a.value,"onUpdate:searchTerm":I[0]||(I[0]=g=>a.value=g)},E(o),{groups:D.value,fuse:f.value,ui:E(Tt)(E(Se)(h.value,["modal"]),t.ui),"onUpdate:modelValue":k,"onUpdate:open":I[1]||(I[1]=g=>r.value=g)}),at({_:2},[me(E(l),(g,b)=>({name:b,fn:R(B=>[H(A.$slots,b,wt(Rt(B)))])}))]),1040,["search-term","groups","fuse","ui"])])]),_:3},8,["open","title","description","class"])}}};export{Us as default};
