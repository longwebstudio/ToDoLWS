import{A as L,v as M,as as C,ax as R,av as Y,B as l,f as _,E as e,w as s,aw as H,at as U,au as I,ay as X,e as r,g as n,h as u,d as Z,F as j,Z as G,Y as J,a0 as K,a6 as O,D as w,t as B,ar as Q,az as W,X as tt,aA as et}from"./NH3mTPrO.js";import{_ as at,a as st}from"./C_atJ7tF.js";import{_ as nt}from"./D6OBHJpy.js";import{_ as ot,a as rt}from"./BAcdcqiF.js";import"./C2bHYaEW.js";const ct={class:"text-muted"},it={class:"flex flex-wrap items-center gap-3 mt-4"},gt=L({__name:"[slug]",async setup(lt){var f,g,v;let a,c;const i=M(),{data:t}=([a,c]=C(()=>U(i.path,()=>I("posts").path(i.path).first(),"$n6r2E9lutY")),a=await a,c(),a);if(!t.value)throw R({statusCode:404,statusMessage:"Post not found",fatal:!0});const{data:m}=([a,c]=C(()=>U(`${i.path}-surround`,()=>X("posts",i.path,{fields:["description"]}))),a=await a,c(),a),d=((f=t.value.seo)==null?void 0:f.title)||t.value.title,p=((g=t.value.seo)==null?void 0:g.description)||t.value.description;return Y({title:d,ogTitle:d,description:p,ogDescription:p}),(v=t.value.image)!=null&&v.src,(_t,y)=>{const b=Q,S=O,A=J,D=at,P=nt,E=et,N=ot,V=st,z=rt,T=W,q=H;return e(t)?(r(),l(q,{key:0},{default:s(()=>{var h,k,$,x;return[n(D,{title:e(t).title,description:e(t).description},{headline:s(()=>[n(b,w(e(t).badge,{variant:"subtle"}),null,16),y[0]||(y[0]=u("span",{class:"text-muted"},"Â·",-1)),u("time",ct,B(new Date(e(t).date).toLocaleDateString("en",{year:"numeric",month:"short",day:"numeric"})),1)]),default:s(()=>[u("div",it,[(r(!0),Z(j,null,G(e(t).authors,(o,F)=>(r(),l(A,{key:F,to:o.to,color:"neutral",variant:"subtle",target:"_blank",size:"sm"},{default:s(()=>[n(S,w({ref_for:!0},o.avatar,{alt:"Author avatar",size:"2xs"}),null,16),K(" "+B(o.name),1)]),_:2},1032,["to"]))),128))])]),_:1},8,["title","description"]),n(T,null,tt({default:s(()=>[n(V,null,{default:s(()=>{var o;return[e(t)?(r(),l(P,{key:0,value:e(t)},null,8,["value"])):_("",!0),(o=e(m))!=null&&o.length?(r(),l(E,{key:1})):_("",!0),n(N,{surround:e(m)},null,8,["surround"])]}),_:1})]),_:2},[(x=($=(k=(h=e(t))==null?void 0:h.body)==null?void 0:k.toc)==null?void 0:$.links)!=null&&x.length?{name:"right",fn:s(()=>[n(z,{links:e(t).body.toc.links},null,8,["links"])]),key:"0"}:void 0]),1024)]}),_:1})):_("",!0)}}});export{gt as default};
